<!DOCTYPE html>
<style>
	.asiento_disponible{
		color: #26a69a;
		cursor: pointer;
	}
	.asiento_ocupado{
		color: #ef6241;	
	}
	.asiento_seleccionado{
		color: #ff9800;
	}
	.persona_asiento{
		border-radius: 12px;
		margin: 5px;
		border: 1px solid #999999;
	}
	.selec_hotel{
		cursor: pointer;
	}
	.selec_actividad{
		cursor: pointer;
	}
</style>
<html lang="es">
<head>
	<!--<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap-theme.min.css">-->
	<!--Import Google Icon Font-->
	<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
	<!--Import materialize.css-->
	<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
	<link type="text/css" rel="stylesheet" href="css/materialize.clockpicker.css"  media="screen,projection"/>
	<!--Let browser know website is optimized for mobile-->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8"/>
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<title>Reserva</title>
</head>
<body>
	<div class="navbar-fixed">
		<nav>
			<div class="nav-wrapper">
				<div class="row">
					<div class="col s12">
						<a href="#!" class="brand-logo center">Travel BR</a>
						<a href="#" data-activates="mobile-demo" class="button-collapse">
							<i class="material-icons">menu</i>
						</a>
						<ul class="left hide-on-med-and-down">
							<li class="active waves-effect waves-teal">
								<a href="#">
									<i class="material-icons left">local_activity</i>Explorar
								</a>
							</li>
							<li class="waves-effect waves-teal">
								<a href="#">
									<i class="material-icons left">settings</i>Reservaciones
								</a>
							</li>
						</ul>
						<ul class="side-nav" id="mobile-demo">
							<li class="waves-effect waves-teal">
								<a href="#">
									<i class="material-icons left">local_activity</i>Explorar
								</a>
							</li>
							<li class="waves-effect waves-teal">
								<a href="#">
									<i class="material-icons left">settings</i>Reservaciones
								</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</nav>
	</div>
	<div style="width: 90%; margin: auto;">
		<div class="row">
			<div class="col l2 hide-on-med-and-down">
				<ul class="table-of-contents">
					<li class="active"><a href="#sec_vuelos"><i class="material-icons left">flight</i>Vuelos</a></li>
					<li><a href="#sec_hoteles"><i class="material-icons left">domain</i>Hoteles</a></li>
					<li><a href="#sec_actividades"><i class="material-icons left">pool</i>Actividades</a></li>
				</ul>
			</div>
			<div class="col s2 hide-on-large-only">
				<ul class="table-of-contents">
					<li class="active"><a href="#sec_vuelos"><i class="material-icons left">flight</i></a></li>
					<li><a href="#sec_hoteles"><i class="material-icons left">domain</i></a></li>
					<li><a href="#sec_actividades"><i class="material-icons left">pool</i></a></li>
				</ul>
			</div>
			<div class="col s10">
				<ul id="sec_vuelos" class="collapsible popout" data-collapsible="accordion">
					<li class="section scrollspy">
						<div class="collapsible-header active waves-effect waves-red"><i class="material-icons">flight</i>Vuelos</div>
						<div class="collapsible-body">
							<div class="row tarjeta_inicio">
								<div class="col s12 offset-m3 m6">
									<div class="card red lighten-2">
										<div class="card-content white-text">
											<span class="card-title">Reservación de vuelo</span>
											<p class="text-flow">En este apartado pordras reservar un vuelo con la aerolínea que desees, ¿Deseas continuar?</p>
										</div>
										<div class="card-action">
											<div class="row">
												<button class="btn left" id="si_sec_vuelos">Si</button>
												<button class="btn right" id="no_sec_vuelos">No</button>
											</div>
										</div>
									</div>
								</div>
							</div>
							<section id="sec_vuelos_forms" style="display: none;">
								<h3 class="center-align flow-text"><strong>Selecciona tu destino</strong></h3>
								<blockquote class="flow-text">Arrastra el punto y confirma tu destino.</blockquote>
								<div class="col s12" id="map" style="margin-bottom: 10px;"></div>
								<button class="col offset-s1 s10 offset-m3 m6 waves-effect waves-red btn red" id="btn_mostrar_mapa" style="margin-bottom: 10px;"><i class="material-icons left">place</i> Ocultar mapa
								</button>
								<div class="row">
									<div class="input-field col s12 m6">
										<i class="material-icons prefix">flight_takeoff</i>
										<input id="text_salida" type="text" value=" " disabled>
										<label for="text_salida">Lugar de salida</label>
									</div>

									<div class="input-field col s12 m6">
										<i class="material-icons prefix">flight_land</i>
										<input id="text_llegada" type="text" value=" " disabled>
										<label for="text_llegada">Lugar de destino</label>
									</div>
								</div>
								<div class="row">
									<div class="input-field col s12 m6">
										<i class="material-icons prefix">date_range</i>
										<input id="fechaS" type="date" class="datepicker">
										<label for="fechaS">Fecha salida</label>
									</div>
									<div class="input-field col s12 m6">
										<i class="material-icons prefix">access_time</i>
										<input id="horaS" type="text" class="timepicker">
										<label for="horaS">Hora salida</label>
									</div>
								</div>
								<div class="row">
									<div class="input-field col s12 m6">
										<i class="material-icons prefix">airline_seat_recline_extra</i>
										<p class="range-field">
											<input type="range" id="num" min="1" max="72">
										</p>
										<label for="num">Número de asientos</label>
									</div>
									<div class="col s12 m6 valign-wrapper">
										<button id="btn_buscar_vuelo" class="valign col s6 offset-s3 waves-effect waves-yellow btn red accent-2">Buscar vuelo</button>
									</div>
								</div>
								<div class="row">
									<div class="col s12">
										<table id="Aerolinea_vuelos" class="table-striped highlight responsive-table" style="display: none;">
											<thead>
												<tr>
													<th>Aerolinea</th>
													<th>Fecha Salida</th>
													<th>Hora Salida</th>
													<th>Fecha Llegada</th>
													<th>Hora Llegada</th>
													<th>Numero de Vuelo</th>
													<th>Precio</th>
												</tr>
											</thead>
											<tbody>
											</tbody>
										</table>
									</div>
								</div>
								<div class="row">
									<div id="contenedor_asientos">
									</div>
								</div>
								<div class="row">
									<div id="formularios"></div>
								</div>
								<div class="row">
									<div class="col s12 offset-m9 m3">
										<button id="next_hoteles" class="btn" >Siguiente</button>
									</div>
									
								</div>
							</section>
						</div>
					</li>
				</ul>
				<ul id="sec_hoteles" class="collapsible popout" data-collapsible="accordion">
					<li class="section scrollspy">
						<div class="collapsible-header waves-effect waves-red"><i class="material-icons">domain</i>Hoteles</div>
						<div class="collapsible-body">
							<div class="row tarjeta_inicio">
								<div class="col s12 offset-m3 m6">
									<div class="card red lighten-2">
										<div class="card-content white-text">
											<span class="card-title">Reservación de hotel</span>
											<p class="text-flow">En este apartado pordras reservar un hotel para que tu estancia sea con el confort que te mereces, ¿Deseas continuar?</p>
										</div>
										<div class="card-action">
											<div class="row">
												<button id="si_sec_hoteles" class="btn left" >Si</button>
												<button id="no_sec_hoteles" class="btn right" >No</button>
											</div>
										</div>
									</div>
								</div>
							</div>
							<section id="sec_hoteles_forms" style="display: none;">
								<div class="row">
									<div class="input-field col s12 m4">
										<i class="material-icons prefix">date_range</i>
										<input id="fechaLlHot" type="date" class="datepicker">
										<label for="fechaLlHot">Fecha Llegada al hotel</label>
									</div>
									<div class="input-field col s12 m4">
										<i class="material-icons prefix">date_range</i>
										<input id="fechaSalHot" type="date" class="datepicker">
										<label for="fechaSalHot">Fecha de salida del hotel</label>
									</div>
									<div class="input-field col s12 m6">
										<i class="material-icons prefix">hotel</i>
										<p class="range-field">
											<input type="range" id="numH" min="1" max="10">
										</p>
										<label for="num">Número de Habitaciones</label>
									</div>
								</div>
								<div class="row">
									<div class="col s12 offset-m9 m3">
										<button id="buscaHotel" class="valign col s6 offset-s3 waves-effect waves-yellow btn red" >Buscar</button>
									</div>
									
								</div>

								<div class="row">
									<div class="col s12">
										<table class="table-striped highlight responsive-table" id="table_hoteles">
											<thead>
												<tr>
													<th>Nombre</th>
													<th>Ciudad</th>
													<th>Estado</th>
													<th>Descripcion</th>
													<th>Precio Por Noche</th>
													<th>Estrellas</th>
													<th>Vista al Mar</th>
													<th>Buffet</th>
													<th>Barra Libre</th>
													<th>Show Nocturno</th>
												</tr>
											</thead>
											<tbody>
											</tbody>
										</table>
									</div>
									<div class="row">
										<div class="col s12 offset-m9 m3">
											<button id="next_actividades" class="btn" >Siguiente</button>
										</div>
									</div>
								</div>
							</section>
						</div>
					</li>
				</ul>
				<ul id="sec_actividades" class="collapsible popout" data-collapsible="accordion">
					<li class="section scrollspy">
						<div class="collapsible-header waves-effect waves-red"><i class="material-icons">pool</i>Actividades</div>
						<div class="collapsible-body">
							<div class="row tarjeta_inicio">
								<div class="col s12 offset-m3 m6">
									<div class="card red lighten-2">
										<div class="card-content white-text">
											<span class="card-title">Reservación de actividades</span>
											<p class="text-flow">En este apartado pordras reservar un esas actividades que siempre haz soñado en el lugar mas divertido, ¿Deseas continuar?</p>
										</div>
										<div class="card-action">
											<div class="row">
												<button class="btn left" id="si_sec_actividades">Si</button>
												<button class="btn right" id="no_sec_actividades">No</button>
											</div>
										</div>
									</div>
								</div>
							</div>
							<section id="sec_actividades_forms" style="display: none;">
								<div class="row">
									<div class="col s12">
										<table class="table-striped highlight responsive-table" id="actividades">
											<thead>
												<tr>
													<th>Nombre</th>
													<th>Ciudad</th>
													<th>Descripcion</th>
													<th>Precio por Niño</th>
													<th>Precio Por Adulto</th>
												</tr>
											</thead>
											<tbody>
											</tbody>
										</table>
									</div>
								</div>
							</section>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
</body>
<script type="text/javascript" src="js/angular.min.js"></script>
<!--<script type="text/javascript" src="js/jquery-1.12.3.min.js"></script>-->
<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="js/materialize.min.js"></script>
<script type="text/javascript" src="js/materialize.clockpicker.js"></script>
<!--<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>-->
<script type="text/javascript" src="js/index.js"></script>
<script>
	var markerS;
	var markerLl;
	var LineS;
	var LineLl;
	var linea;
	var geocoder;
	var map;
	var infowindow;
	var imageMS = 'img/Salida.png';
	var imageMLl='img/Llegada.png';
	function initMap() {
		var myLatLng = {lat: 23.4598087, lng: -100.3507389};
		map = new google.maps.Map(document.getElementById('map'), {
			zoom: 6,
			center: myLatLng,
			scrollwheel: false,
			navigationControl: false,
			mapTypeControl: false,
			scaleControl: false,
			mapTypeId: google.maps.MapTypeId.ROADMAP
		});
		markerS = new google.maps.Marker({
			map: map,
			draggable: true,
			animation: google.maps.Animation.DROP,
			position: {lat: 21.864865607746523, lng: -102.28433265000001},
			icon: imageMS
		});
		markerLl = new google.maps.Marker({
			map: map,
			draggable: true,
			animation: google.maps.Animation.DROP,
			position:{lat: 21.24719896448074, lng: -105.11636390000001},
			icon:imageMLl
		});
		geocoder = new google.maps.Geocoder;
		infowindow = new google.maps.InfoWindow;
		markerLl.addListener('click', toggleBounceLl);
		markerLl.addListener('dragend', obtenerInfoLl);
		markerS.addListener('click', toggleBounceS);
		markerS.addListener('dragend', obtenerInfoS);
	}
	function toggleBounceS() {
		if (markerS.getAnimation() !== null) {
			markerS.setAnimation(null);
		} else {
			markerS.setAnimation(google.maps.Animation.BOUNCE);
		}
	}
	function toggleBounceLl() {
		if (markerLl.getAnimation() !== null) {
			markerLl.setAnimation(null);
		} else {
			markerLl.setAnimation(google.maps.Animation.BOUNCE);
		}
	}
	function obtenerInfoS(){
		var lat = this.getPosition().lat();
		//console.log(lat);
		var lng = this.getPosition().lng();
		//console.log(lng);
		LineS={lat: lat,lng: lng};
		var latlng = {lat: lat, lng: lng}
		geocoder.geocode({'location': latlng}, function(results, status) {
			if (status === google.maps.GeocoderStatus.OK) {
				if (results[1]) {
					$.each(results,function(index,element){
						if(element.types[0]=="administrative_area_level_1"){
							$('#text_salida').val(element.address_components[0].long_name);
							if($('#text_salida').val()!="" && $('#text_llegada').val()!="" && $('#text_salida').val()!=" " && $('#text_llegada').val()!=" "){
								$('#map').hide();
								$('#btn_mostrar_mapa').html('<i class="material-icons left">place</i> Mostrar mapa');
							}
						}
					});
				} else {
					window.alert('No results found');
				}
			} else {
				window.alert('Geocoder failed due to: ' + status);
			}
		});
	}
	function obtenerInfoLl(){
		var lat = this.getPosition().lat();
		//console.log(lat);
		var lng = this.getPosition().lng();
		//console.log(lng);
		LineLl={lat: lat,lng: lng};
		var latlng = {lat: lat, lng: lng};
		geocoder.geocode({'location': latlng}, function(results, status) {
			if (status === google.maps.GeocoderStatus.OK) {
				if (results[1]) {
					$.each(results,function(index,element){
						if(element.types[0]=="administrative_area_level_1"){
							$('#text_llegada').val(element.address_components[0].long_name);
							if($('#text_salida').val()!="" && $('#text_llegada').val()!="" && $('#text_salida').val()!=" " && $('#text_llegada').val()!=" "){
								$('#map').hide();
								$('#btn_mostrar_mapa').html('<i class="material-icons left">place</i> Mostrar mapa');
							}
						}
					});
				} else {
					window.alert('No results found');
				}
			} else {
				window.alert('Geocoder failed due to: ' + status);
			}
		});
		var LineaVuelo=[LineS,LineLl];
	}
	function dibujaLinea(LineaVuelo){
		linea = new google.maps.Polyline({
			path: LineaVuelo,
			geodesic: true,
			strokeColor: '#FF0000',
			strokeOpacity: 1.0,
			strokeWeight: 2
		});
	}
	function marca(){
		linea.setMap(map);
	}
	function desmarca(){
		linea.setMap(null);
	}
</script>
<script async defer
	src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7zi0iyv1inGdIwlU5PV4n6S7pVRyKwQA&callback=initMap"></script>
</html>